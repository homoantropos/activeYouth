<div class="table-container" *ngIf="dataSource2; else loader">
  <table mat-table matSort [dataSource] = "dataSource2" class="mat-elevation-z8">

    <ng-container matColumnDef="appointment.title">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Захід</th>
      <td mat-cell *matCellDef="let statistic">
        <a (click)="goToStatDetails(statistic)">{{statistic.title}}</a> </td>
    </ng-container>

    <ng-container matColumnDef="termsOfHolding">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Терміни</th>
      <td mat-cell *matCellDef="let statistic"> {{statistic.startdate | date : 'dd.MM.yy' + '/'}}<br> {{statistic.finishdate | date : 'dd.MM.yy'}}</td>
    </ng-container>

    <ng-container matColumnDef="place">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Місце</th>
      <td mat-cell *matCellDef="let statistic"> {{
        statistic.town_name + ' ' + statistic.region_name}}<br>
        {{statistic.country_name}}</td>
    </ng-container>

    <ng-container matColumnDef="numberOfCountries">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Країн (план/факт)</th>
      <td mat-cell *matCellDef="let statistic">
        {{statistic.countries_plan+'/'+statistic.countries_fact}}</td>
    </ng-container>

    <ng-container matColumnDef="numberOfRegions">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Регіонів (план)</th>
      <td mat-cell *matCellDef="let statistic">
        {{statistic.regions_plan+'/'+statistic.regions_fact}}</td>
    </ng-container>

    <ng-container matColumnDef="numberOfEduEnt">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Закладів<br>освіти (план)</th>
      <td mat-cell *matCellDef="let statistic">
        {{statistic.educationentity_plan+'/'+statistic.educationentity_fact}}</td>
    </ng-container>

    <ng-container matColumnDef="numberOfSportsmen">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Учасників (план)</th>
      <td mat-cell *matCellDef="let statistic">
        {{statistic.sportsmen_plan+'/'+statistic.sportsmen_fact}}</td>
    </ng-container>

    <ng-container matColumnDef="numberOfCoaches">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Тренерів (план)</th>
      <td mat-cell *matCellDef="let statistic">
        {{statistic.coaches_plan+'/'+statistic.coaches_fact}}</td>
    </ng-container>

    <ng-container matColumnDef="numberOfReferees">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Суддів (план)</th>
      <td mat-cell *matCellDef="let statistic">
        {{statistic.referees_plan+'/'+statistic.referees_fact}}</td>
    </ng-container>

    <ng-container matColumnDef="numberOfOthers">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Інших (план)</th>
      <td mat-cell *matCellDef="let statistic">
        {{statistic.others_plan+'/'+statistic.others_fact}}</td>
    </ng-container>

    <ng-container matColumnDef="total">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Всього (план)</th>
      <td mat-cell *matCellDef="let statistic">
        {{statistic.total_plan+'/'+statistic.total_fact}}</td>
    </ng-container>

    <ng-container matColumnDef = "report">
      <th mat-header-cell *matHeaderCellDef="">Звітувати</th>
      <td mat-cell *matCellDef="let report">
        <button mat-button color="primary"
        (click)="goToReportEditor(report.report_id)">Звітувати</button>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>
</div>

<mat-paginator class="mat-paginator" [pageSizeOptions]="[10, 15, 20]" showFirstLastButtons></mat-paginator>

<ng-template #loader>
  <app-loader></app-loader>
</ng-template>
